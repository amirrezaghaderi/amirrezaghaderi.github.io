<!DOCTYPE html>
<html lang="fa-IR">
<head>
<meta charset="utf-8">
<title>تشریح مفاهیم Synchronous و Asynchronous به زبان ساده‌ی فارسی | وب نوشت‌ها | امیررضا قادری</title>


<meta name="description" content="اگر فکر میکردید با مفاهیم Synchronous یا Asynchronous آشنا هستید، ولی نمی توانستید به درستی آن را برای دیگران توضیح دهید..."/>



<meta name="keywords"    content="کد,Synchronous,Asynchronous"/>


<meta name="viewport"    content="width=device-width, initial-scale=1">
<meta name="author"      content="امیررضا قادری">
<meta name="robots"      content="INDEX,FOLLOW">



<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@amirr3za">
<meta name="twitter:creator" content="@amirr3za" />
<meta name="twitter:title" content="تشریح مفاهیم Synchronous و Asynchronous به زبان ساده‌ی فارسی">

<meta name="twitter:description" content="اگر فکر میکردید با مفاهیم Synchronous یا Asynchronous آشنا هستید، ولی نمی توانستید به درستی آن را برای دیگران توضیح دهید...">

<meta name="twitter:url" content="https://amirrezaghaderi.com/fa/blog/sync-async/">

<meta name="twitter:image" content="https://amirrezaghaderi.com/fa/site.png" />


<meta property="og:type" content="website">
<meta property="og:url" content="https://amirrezaghaderi.com/fa/blog/sync-async/">
<meta property="og:title" content="تشریح مفاهیم Synchronous و Asynchronous به زبان ساده‌ی فارسی">

<meta property="og:description" content="اگر فکر میکردید با مفاهیم Synchronous یا Asynchronous آشنا هستید، ولی نمی توانستید به درستی آن را برای دیگران توضیح دهید...">



<meta property="og:image" content="https://amirrezaghaderi.com/fa/site.png" />


<meta property="og:site_name" content="امیررضا قادری">
<meta property="og:locale" content="fa_IR">

<link rel="stylesheet"    href="https://amirrezaghaderi.com/fa/css/style.css" type="text/css"/>
<link rel="stylesheet"    href="https://amirrezaghaderi.com/fa/css/solarized-light.css" type="text/css"/>

<link rel="shortcut icon" type="image/png" href="https://amirrezaghaderi.com/fa/favicon.png">
<link rel="alternate"     href="https://amirrezaghaderi.com/fa/index.xml" type="application/rss+xml" title="Amirreza's blog"/>

<script type="text/javascript">
if("querySelector"in document&&"addEventListener"in window&&"classList"in document.documentElement){}else{window.location="https:\/\/amirrezaghaderi.com\/fa\//old-browser.html"}
</script>



</head>

<body>

<div id="page" class="site rtl">

<header id="page-header" class="h100" role="banner">
<nav id="side-menu" class="side-menu" role="navigation">
  <a id="side-menu-btn" class='side-menu-btn white bg-red bh-black p15 w100 block' href="#menu">منوی سایت</a>
  <div id="side-menu-list" class="side-menu-list">
    <ul>
      <li><a href="https://amirrezaghaderi.com/fa/">صفحه نخست</a></li>
      <li><a href="https://amirrezaghaderi.com/fa/post/">فهرست مطالب</a></li>
      <li><a href="https://amirrezaghaderi.com/fa/topic/">دسته‌بندی بر اساس موضوعات...</a></li>
      <li><a href="https://amirrezaghaderi.com/fa/contact/">تماس</a></li>
      <li><a href="https://amirrezaghaderi.com/fa/index.xml">فید</a></li>
    </ul>
  </div>
</nav>
</header>

<div id="content" class="pb120">
<div id="primary" class="">
<main id="main" class="main w850 middle" role="main">



<div class="center">
    <p class=""><a class="f5 bg-red white p5" href="https://amirrezaghaderi.com/fa/blog/">بازگشت</a></p>
</div>

<!----------------------------------------------------------------------- -->

<article id="post" role="article">
<header class="center bb-bold-black">
 <h1 class="f1 mt30 mb30">
  <a class="black fh-red" rel="bookmark" href="https://amirrezaghaderi.com/fa/blog/sync-async/">تشریح مفاهیم Synchronous و Asynchronous به زبان ساده‌ی فارسی</a>
 </h1>

 <div class="pb10 f5 gray2">
  <time class="" datetime="March 11, 2019">۱۳۹۷/۱۲/۲۰</time>
 </div>

</header>

<div class="entry-toc">

</div>

<div class="entry-content p10">
<p><a name="toc"></a></p>
<h2 id="فهرست-مطالب">فهرست مطالب</h2>
<ul>
<li><a href="#intro">مقدمه</a></li>
<li><a href="#sync">منظور از کدهای Synchronous چیست</a></li>
<li><a href="#async">منظور از کدهای Asynchronous چیست</a></li>
<li><a href="#end">سخن آخر</a></li>
</ul>
<p><a name="intro"></a></p>
<h2 id="مقدمه">مقدمه</h2>
<p>وقتی واژه‌ی Synchronous را در دیکشنری جستجو می‌کنید، چیزی که دستگیرتان می‌شود احتمالا این معنی است: هم‌زمان.</p>
<p>و به تناسب، برای واژه‌ی Asynchronous هم با معنی «غیر هم‌زمان» مواجه خواهید شد.</p>
<p>اگر در حال خواندن این نوشته هستید، احتمالا شما هم مثل من به این نتیجه رسیده‌اید که این معانی نمی توانند مفهوم این دو واژه را بدرستی منتقل نمایند. وقتی می خواهیم درباره‌ی این دو واژه در برنامه‌نویسی صحبت کنیم، متوجه خواهیم شد که «زمان» فقط <strong>یکی</strong> از فاکتورهایی است که در این موضوع دخیل است؛ حتی در خیلی از اوقات، قضیه «زمان» واقعا در اولویت نیست!</p>
<p>بیشتر نوشته های موجود در اینترنت نیز هنگام توضیح این دو مفهوم، به سرعت با عوامل جانبی مانند چگونگی پیاده‌سازی این‌ها در فلان زبان یا فلان فریم ورک خاص مخلوط می‌شوند و هیچوقت به درستی درکی از خود این مفاهیم صورت نمی گیرد. نتیجه این می‌شود که برنامه‌نویس‌ها از چنین قابلیت‌هایی در کد‌هایشان استفاده می کنند، بدون اینکه واقعا اصل داستان را بدانند.</p>
<p>من در این نوشته میخواهم  به شیوه‌ی خودم این دو مفهوم پر استفاده را توضیح دهم؛ شاید این نوشته بتواند سودمند واقع شود.</p>
<p><a name="sync"></a></p>
<h2 id="منظور-از-کدهای-synchronous-چیست">منظور از کدهای Synchronous چیست</h2>
<p>برای لحظه‌ای، موضوع «زمان» را به طور کامل از فکر خود بیرون کنید! بیاید از زاویه دیگری به مفهوم Synchronous نگاه کنیم؛</p>
<span class="in-red">
وقتی می‌گوییم کدهای ما Synchronous است، در حقیقت داریم درباره «ترتیب اجرای» کدها حرف می‌زنیم! به شکلی که این «ترتیب اجرا»، برابر با همان «ترتیب نگارش» کدهایمان باشد.
</span>
<p>بنابراین «زمان» تنها فاکتور دخیل در Synchronous بودن نیست. در این مفهوم، «مکان» کدها و اینکه آن‌ها را به چه شیوه‌ای نوشته باشیم نیز از اهمیت برخوردار است.</p>
<p>وقتی می‌گوییم کدهای ما حالت Synchronous دارند، به این معنی است که ترتیب اجرای آن‌ها پشت سر هم و به شکلی کاملا قابل پیش‌بینی اتفاق می‌افتد. فرضا شبه کد زیر را در نظر بگیرید:</p>
<pre><code>var a = 10;
var f = file.open(&quot;names.txt&quot;);
var names = f.read();
print names;
print a + 2;
</code></pre><p>ما انتظار انجام یک سری از وظایف را از کامپیوتر داشتیم. با توجه به آن انتظارات، به ترتیب خاصی کدهای‌مان را نگارش کردیم و از بالا به پایین دستوراتی که کامپیوتر باید اجرا کند را برایش شرح داده‌ایم و انتظار داریم که این دستورات به همان ترتیبی که نگارش شده‌اند اجرا شوند:</p>
<ul>
<li>مقدار <code>10</code> در متغیر <code>a</code> ریخته شود.</li>
<li>فایل <code>names.txt</code> باز شود و ارجاعی در آن در متغیر <code>f</code> ریخته شود.</li>
<li>اطلاعات درون <code>f</code> خوانده شود و به طور رشته‌ای در متغیر <code>s</code> قرار بگیرد.</li>
<li>محتوایی که در <code>s</code> قرار دارد چاپ شود.</li>
<li>نتیجه‌ی محاسبه‌ای <code>a + 2</code> نیز در خروجی چاپ شود.</li>
</ul>
<p>در مثال بالا، ما به عنوان برنامه‌نویس چنین رویه‌ای را دنبال کردیم:</p>
<ul>
<li>چیزی که از کامپیوتر انتظار داشتیم را در «فکر» خود حلاجی کردیم.</li>
<li>افکار خود را در قالب «کد» نگارش کردیم.</li>
<li>همچنین در این بین، «ترتیب نگارش» کدها را نیز مطابق افکار خود تنظیم کرده‌ایم.</li>
</ul>
<p>کامپیوتر نیز اجرای کدهای ما را به شکلی قابل پیش بینی انجام خواهد داد. فرضا چاپ کردن محتوای فایل، حتما بعد از باز کردن فایل اتفاق می‌افتد.</p>
<p>ترکیب سه فاکتور «فکر»، «نگارش»، و «اجرا» مفهومی به اسم Control Flow یا «جریان کنترلی» را در برنامه‌نویسی به وجود می‌آورند که بیان کننده‌ی مدل اجرایی سیستم است.</p>
<p>در کدهای Synchronous، قضیه  Control Flow ترتیبی به و شکلی قابل پیش‌بینی خواهد بود.</p>
<p>از همین رو، کدهای Synchronous کدهایی هستند که طبیعتی ترتیبی دارند. چیزی که در زبان انگلیسی می تواند با واژه‌ی
Sequential بیان شود.</p>
<p><a name="async"></a></p>
<h2 id="منظور-از-کدهای-asynchronous-چیست">منظور از کدهای Asynchronous چیست</h2>
<p>بر عکس چیزی که مردم فکر می کنند، مفهوم Asynchronous مشخصا در قطب مخالف Synchronous نیست! بلکه به نوعی مکمل آن است.</p>
<span class="in-red">
کدهای Asynchronous کدهایی هستند که در آن‌ها «ترتیب اجرای» فرامین، دقیقا با «ترتیب نگارش» آن‌ها مطابق نخواهد بود.
</span>
<p>این ناهماهنگی چیز بدی نیست:</p>
<ul>
<li>خیلی از مسايل در کامپیوتر طبیعت‌ای غیر ترتیبی دارند. نتیجه اجرای بسیاری از فرامین ممکن است در همان لحظه در دسترس قرار نگیرند. فرضا در مثال بالا، باز کردن فایل <code>names.txt</code> ممکن است ۱ میلی ثانیه طول بکشد، یا ممکن است ۱۰ ثانیه طول بکشد!</li>
<li>پردازنده‌های امروزی بسیار سریع‌تر از حدی هستند که بخواهیم از آن‌ها فقط برای اجرای «یک» روند ترتیبی بهره بگیریم. آن‌ها می توانند روند‌های اجرایی زیادی را به شکل غیر ترتیبی اجرا نمایند.</li>
</ul>
<p>چون کدهای Asynchronous ذاتی غیر ترتیبی دارند، از جریان اجرایی پیشفرض کدها که به حالت ترتیبی اتفاق می‌افتد پیروی نمی‌کنند؛ در حقیقت، هنگام استفاده از مدل Asynchronous، هر بخش از کد می تواند دارای جریان اجرایی جداگانه‌ای باشد. به همین دلیل می توان به کمک اعمال Asynchronous به جای یک جریان اجرایی، چندین و چند جریان اجرایی داشت.</p>
<p>حالا می‌رسیم به قسمتی که در بیشتر نوشته‌ها باعث ریختن قیمه‌ها در ماست‌ها می‌شود! قسمتی که نویسنده مطلب تصمیم می‌گیرد مفهوم Asynchronous را با مدل پیاده‌سازی آن در زبان‌های مختلف قاطی کند، در حالی که Asynchronous یک مفهوم مستقل است که می توانند در هر سیستم به نوع متفاوتی ظاهر شود. اما چیزی که مهم است، غیر ترتیبی بودن کدهاست که در تمام پیاده سازی ‌ها مشترک است.</p>
<p>نحوه‌ی اجرا شدن کدهای Asynchronous ممکن است به طور موازی اتفاق بیفتند؛ که باعث اجرای Parallel خواهد شد. همچنین ممکن است به طور غیر موازی اتفاق بیفتد که باعث اجرای «همروند» یا  Concurrent می‌شود.</p>
<p>زبان‌های مختلف، برای پیاده سازی مدل Asynchronous از راه‌حل‌های متفاوتی استفاده می‌کنند. در نهایت، موضوع به این برمی‌گردد که چگونه جریان‌های غیرترتیبی در مدل Asynchronous را اجرا و مدیریت می کنند:</p>
<ul>
<li>با استفاده از Process ها، که مبتنی بر حافظه‌ی غیر اشتراکی هستند.</li>
<li>با استفاده از Thread ها، که بسیار نزدیک به Process ها هستند با این تفاوت که از حافظه‌ی اشتراکی استفاده می‌کنند.</li>
<li>با استفاده از Event ها، و به کمک Event loop و سایر الگوریتم‌هایی که مبتنی بر آن هستند (مثل callback یا Promise یا &hellip;)</li>
<li>با استفاده از ترکیبی از تمام موارد بالا&hellip; (یا هر مدل دیگری که ممکن است به فکرتان برسد)</li>
</ul>
<p>هر کدام از روش‌های بالا مزایا و معایب خود را دارند. زبان‌هایی که به «همروند» بودن شهرت دارند، زبان‌هایی هستند که از تمام این مدل‌های استفاده کرده اند و سعی کرده‌اند به طور مناسبی هر مدل را در سناریو ای که برایش مناسب تر است استفاده کنند.</p>
<p>فرقی ندارد که از کدام زبان استفاده می‌کنید، و آن زبان از کدام مدل برای پیاده سازی مفهوم Asynchronous استفاده کرده است. در هر حال، هنگام کار با کدهای Asynchronous باید نکات زیر را بخاطر داشته باشید:</p>
<ul>
<li>ترتیب اجرای کدهای مشخص نیست.</li>
<li>زمان به نتیجه رسیدن هر جریان اجرایی مشخص نیست.</li>
<li>نحوه‌ دسترسی هر جریان اجرایی به «داده‌ها» مشخص نیست.</li>
<li>کدهای Asynchronous بیانگر یک «مدل» اجرایی می‌باشند؛ Asynchronous بودن نه ربطی به سرعت کدها دارد و نه ضمانتی در اینباره ارايه می‌دهد.</li>
</ul>
<p>بنابراین:</p>
<ul>
<li>باید یک راه منطقی برای فکر کردن راجع به Control Flow کدهای‌تان پیدا کنید.</li>
<li>هیچوقت تصمیم گیری‌های‌تان را بر مبنای اینکه «اتمام فلان تکه از کد، فلان مقدار زمان خواهد برد» پایه گذاری نکنید.</li>
<li>خود را برای این قضیه که داده‌های شما به شکل همروند در دسترس خواهند بود آماده کنید.</li>
<li>کدهای شما ممکن است سریع‌تر شوند؛ و یا کندتر شوند! بدون فکر انتخابی انجام ندهید!</li>
</ul>
<p><a name="end"></a></p>
<h3 id="سخن-آخر">سخن آخر</h3>
<p>در نوشته‌ای که خواندید، سعی شد بدون پرداختن و درگیر شدن با جزییات زبان‌های مختلف برنامه‌نویسی و ابزار‌های‌شان، توضیحی ساده از مفاهیم Synchronous و  Asynchronous ارائه شود. همچنین از روی عمد، از واژه‌هایی مانند blocking و Non-blocking استفاده نشد تا باعث گمراهی بیشتر نشود؛ چرا که این مفاهیم داستان خودشان را دارند.</p>
<p>امیدوارم این نوشته هم برای خودتان مفید واقع شده باشد، و هم اینکه بتواند رفرنس خوبی برای‌تان باشد تا برنامه‌نویس های دیگری که قصد آشنایی با این مفاهیم دارند را به آن ارجاع دهید.</p>

</div>

<footer class="p5 pt40 pb40">
 
 <div class="cat-links">
  <p><strong>دسته‌بندی:</strong>
  
   <a href="https://amirrezaghaderi.com/fa/topic/%D8%A8%D8%B1%D9%86%D8%A7%D9%85%D9%87-%D9%86%D9%88%DB%8C%D8%B3%DB%8C">برنامه نویسی</a>.
  
  </p>
 </div>

</footer>
</article>
<!----------------------------------------------------------------------- -->


<div class="comments">
<div>
<h2>نظرات</h2>
<div id="disqus_thread"></div>
<script type="text/javascript">

(function() {
    
    
    if (window.location.hostname == "localhost")
        return;

    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    var disqus_shortname = 'amirrezaghaderi-ir';
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>
Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
</noscript>
<a href="http://disqus.com/" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>
</div>



</main>
</div><!-- primary ends. -->
</div><!-- content ends. -->


<footer id="footer" class="absolute bottom-left w100pr pt40 pb40 center bg-black" role="footer">
 <div class="f5">
  <a class="block pb15 gray2" href="https://amirrezaghaderi.com/fa/" rel="copyright">
  امیررضا قادری. تمام حقوق محفوظ است.
  </a>
  <a class="block gray2" href="http://creativecommons.org/licenses/by-nc/4.0/">
  مطالب تحت مجوز کریتیو کامنز (CC BY-NC 4.0) منتشر شده‌اند.
  </a>
 </div>
</footer>

</div><!-- page ends. -->

<script type="text/javascript" src="https://amirrezaghaderi.com/fa/js/site.js" ></script>
</body>
</html>

